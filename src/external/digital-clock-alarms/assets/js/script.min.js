(function(){function u(){var a=new Date,c=a.getHours(),b=a.getMinutes(),e=a.getSeconds();a=a.getDay();var d=12<=c?"pm":"am";c=m.addLeadingZeros(c,2);b=m.addLeadingZeros(b,2);e=m.addLeadingZeros(e,2);return c+b+e+a+d}var v=Bee.Utils,n=Bee.Array,m=Bee.String,a=Bee.Widget,f=a.getEl("#clock"),q=f.querySelector(".alarm"),w=f.querySelector(".ampm"),k=a.getEl("#alarm-dialog").parentElement,x=a.getEl("#alarm-set"),y=a.getEl("#alarm-clear"),r=a.getEl("#time-is-up").parentElement,d=-1,h="zero one two three four five six seven eight nine".split(" "),
g={},t=f.querySelector(".digits");n.forEach("h1 h2 : m1 m2 : s1 s2".split(" "),function(d,c){if(":"===d)t.appendChild(a.createEl("div",{className:"dots"}));else{c=a.createEl("<div>");for(var b=1;8>b;b++)c.append(a.createEl("span",{className:"d"+b}));g[d]=c;t.appendChild(c)}});var z=f.querySelector(".weekdays");n.forEach("MON TUE WED THU FRI SAT SUN".split(" "),function(d){z.appendChild(a.createEl("span",{innerHTML:d}))});var A=f.querySelectorAll(".weekdays span"),p=null;(function c(){var b=u();g.h1.className=
h[b[0]];g.h2.className=h[b[1]];g.m1.className=h[b[2]];g.m2.className=h[b[3]];g.s1.className=h[b[4]];g.s2.className=h[b[5]];var e=b[6];e--;a.addClass(A[e],"active");w.innerHTML=b[7]+b[8];if(0<d)d--,a.addClass(q,"active");else{if(0===d){Bee.DiceyDialog.alert({t:"Time is up",onAffirm:function(){clearInterval(p)}});try{var f=a.getEl("#alarm-ring");f.play();p=setInterval(function(){f.play()},100)}catch(B){}d--}a.removeClass(q,"active")}setTimeout(c,1E3)})();a.getEl("#switch-theme").onclick=function(){a.toggleClass(f,
"light","dark")};a.getEl(".alarm-button").onclick=function(){var c=0,b=0,e=0;0<d&&(e=d,c=Math.floor(e/3600),e%=3600,b=Math.floor(e/60),e%=60);l[0].vaue=c;l[1].vaue=b;l[2].vaue=e;a.openWin(k)};var l=k.querySelectorAll("input");x.onclick=function(){var c=!0,b=0,e=[3600,60,1];k.querySelector("input");n.forEach(l,function(a,d){if(this.validity&&!this.validity.valid)return c=!1,this.focus(),!1;b+=e[d]*v.pInt(a.value)});c?1>b?alert("Please choose a time in the future!"):(d=b,a.closeWin(k)):alert("Please enter a valid number!")};
y.onclick=function(){d=-1;a.closeWin(k)};r.onclick=function(){clearInterval(p);a.closeWin(r)}})();
