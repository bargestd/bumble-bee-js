<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>test table</title>

   <style>


      div.scroll
      {
         height: 400px;
         /*display: block;*/
         /*width: 500px;*/
         /*overflow-x: scroll;*/
         overflow-y: scroll;
         /*overflow: hidden !important;*/
      }

      .checkList
      {
         position: absolute;
         z-index: 20;
      }

      .checkList ul::before
      {
         top: -11px;
         border-bottom-color: var(--dividerColor);
         border-width: 10px;
         left: 6px;
      }

      .checkList ul::before, .checkList ul::after
      {
         content: "";
         position: absolute;
         width: 0;
         height: 0;
         border-style: solid;
         border-color: transparent;
         border-top: 0;

      }
      .checkList ul::after {
         top: -10px;
         border-bottom-color: var(--normalBgColor);
         border-width: 10px;
         left: 6px;
      }



      .checkList ul{
         min-width: 150px;
         height: auto;
         padding: 3px 0;
         background-color: var(--normalBgColor);
         /*position: absolute;*/
         top: 100%;
         width: auto;
         /*box-shadow: 0 2px 2px var(--subMenuShadowColor);*/
         box-shadow: 0 4px 7px var(--subMenuShadowColor);
         border: 1px solid var(--subMenuBorderColor);
         filter: drop-shadow(0 0px 1px var(--subMenuShadowColor));

      }

      .checkList ul li
      { width: auto;
         height: 28.4px;
         float: none;
         /*border-top: 1px solid #898989;*/
         /*border-bottom: 1px solid #171717;*/
         text-transform: capitalize;
         position: relative;
         user-select: none;
         -moz-user-select: none;
         -webkit-user-select: none;
         border-bottom: 1px solid var(--dividerColor);
         padding: 3px 1px;
      }

      .checkList ul li a
      {
         height: 100%;
         width: auto;
         padding: 0 10px;
         /*background-color: var(--normalBgColor);*/
         color: inherit;
         font-size: 95%;
         font-weight: 400;
         user-select: none;
         -moz-user-select: none;
         -webkit-user-select: none;
      }

      .checkList ul li:hover
      {
         background-color: var(--menuItemHoverColor);
         /*color: #fff;*/
      }

      .checkbox label
      {
         color: #000000;
         padding-left: 17px !important;
      }

      .checkList .checkbox label::before
      {
         left: 15px;
         background: #515050;
      }

      .checkList .checkbox label::after
      {
         left: 17px;
      }

   </style>
   <link rel="stylesheet" href="../../../cssDarkTheme/root.css">
   <link rel="stylesheet" href="../../../css/font-awesome.css">
   <link rel="stylesheet" href="../../../css/core.css">
   <link rel="stylesheet" href="../../../css/coreUIFrame.css">
   <link rel="stylesheet" href="../../../css/form.css">
   <link rel="stylesheet" href="../../../css/table.css">

</head>
<body>
<div>
   <button onclick="tb.setTextDensity('s')" style="font-size: small; min-width: 30px; margin-right: 10px" >A</button>
   <button onclick="tb.setTextDensity('m')" style="font-size: medium; min-width: 30px; margin-right: 10px">A</button>
   <button onclick="tb.setTextDensity('l')" style="font-size: large; min-width: 30px; margin-right: 10px">A</button>

   <select name="" id="tableFilter" title="">
      <optgroup label="Filter By">
         <option value="a1">a1</option>
         <option value="b2">b2</option>
         <option value="c3">c3</option>
         <option value="d4">d4</option>
         <option value="e5">e5</option>
      </optgroup>
   </select>



   <div class="dropDown checkList">
      <ul>
         <li>
            <a href="">
               <div class="checkbox checkbox-info" style="display: inline;">
                  <input class="showOrHideCol" type="checkbox" id="chx" value="1"/>
                  <label for="chx" class="settingLabel">checks</label>
               </div>
            </a>
         </li>
         <li>
            <a href="">
            <div class="checkbox checkbox-info" style="display: inline;">
               <input class="showOrHideCol" type="checkbox" id="b2" value="3"/>
               <label for="b2" class="settingLabel">b2</label>
            </div></a>
         </li>
         <li>
            <a href="">
            <div class="checkbox checkbox-info" style="display: inline;">
               <input class="showOrHideCol" type="checkbox" id="c3" value="4"/>
               <label for="c3" class="settingLabel">c3</label>
            </div>
            </a>
         </li>
         <li>
            <a href="">
            <div class="checkbox checkbox-info" style="display: inline;">
               <input class="showOrHideCol" type="checkbox" id="d4" value="5"/>
               <label for="d4" class="settingLabel">d4</label>
            </div>
            </a>
         </li>
         <li>
            <a href="">
            <div class="checkbox checkbox-info" style="display: inline;">
               <input class="showOrHideCol" type="checkbox" id="e5" value="6"/>
               <label for="e5" class="settingLabel">e5</label>
            </div>
            </a>
         </li>
      </ul>
   </div>
</div>



<div
<lass="scroll">
   <table id="tb" class="">
      <thead>
         <tr>
            <th class="tesy noSort checkCol">
               <div class="checkbox checkbox-success">
                  <input class="fatherCheckBx" type="checkbox" id="registerStudent"/>
                  <label for="registerStudent" class="settingLabel"></label>
               </div>
            </th>
            <th class="tesy">a1</th>
            <th>b2</th>
            <th>c3</th>
            <th class="noSort">d4</th>
            <th class="noSort">e5</th>
            <!--<th>f5</th>-->
         </tr>
      </thead>

      <tbody>
         <tr style="">
            <td class="tesy checkCol">
               <!--<input type="checkbox" class="" title="">-->
               <div class="checkbox checkbox-info">
                  <input class="checkBx" type="checkbox" id="checkBx1" title=""/>
                  <label for="checkBx1" class="settingLabel"></label>
               </div>
            </td>
            <td>On Becoming a Person: A Therapist's View of Psychotherapy</td>
            <td>Carl Rogers</td>
            <td>September 7, 1995</td>
            <td>col6</td>
            <td class="rowActions">
               <button>
                  <i class="fa fa-pencil"></i>
               </button>
               <button class="always-visible">
                  <i class="fa fa-trash"></i>
               </button>
               <!--<button class="always-visible">-->
                  <!--<i class="fa fa-trash"></i>-->
               <!--</button>-->
            </td>

         </tr>
         <tr style="">
            <td class="tesy checkCol">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Psychoanalysis and Religion</td>
            <td>Erich Fromm</td>
            <td>September 10, 1959</td>
            <td>col4</td>
            <td class="rowActions">
               <button>
                  <i class="fa fa-pencil"></i>
               </button>
               <button>
                  <i class="fa fa-trash"></i>
               </button>
               <!--<button class="always-visible">-->
                  <!--<i class="fa fa-trash"></i>-->
               <!--</button>-->
            </td>
         </tr>
         <tr style="">
            <td class="tesy checkCol">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Farther Reaches of Human Nature</td>
            <td>Abraham H. Maslow</td>
            <td>October 1, 1993</td>
            <td>col1</td>
         </tr>
         <tr style="">
            <td class="tesy checkCol">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>What Life Should Mean to You</td>
            <td>Ludwig Hain, Alfred Adler</td>
            <td>November 10, 2010</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy checkCol">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Walden Two</td>
            <td>B. F. Skinner</td>
            <td>1948</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Childhood and Society</td>
            <td>Erik H. Erikson</td>
            <td>September 17, 1993</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Doctor and The Soul: An Introduction to Logotherapy</td>
            <td>Victor E. Frankl</td>
            <td>1962</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Our Inner Conflicts: A Constructive Theory of Neurosis</td>
            <td>Karen Horney</td>
            <td>October 17, 1992</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Cognitive therapy and the emotional disorders</td>
            <td>Aaron T. Beck</td>
            <td>October 1, 1979</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Humanistic Psychotherapy: The Rational-Emotive Approach</td>
            <td>Albert Ellis</td>
            <td>October, 1974</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Basic Writings of Sigmund Freud</td>
            <td>Sigmund Freud</td>
            <td>July 10, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>I Ching, The Oracle of the Cosmic Way</td>
            <td>Carol K. Anthony</td>
            <td>November 25, 2002</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Baboon Mothers and Infants</td>
            <td>Jeanne Altmann</td>
            <td>1980</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Autobiography of Charles Darwin: 1809-1882</td>
            <td>Charles Darwin</td>
            <td>September 17, 1993</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>A sacred unity: Further steps to an ecology of mind</td>
            <td>Gregory Bateson</td>
            <td>1991</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Life Cycles: Reflections of an Evolutionary Biologist</td>
            <td>John Tyler Bonner</td>
            <td>April 3, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Family Evaluation: An Approach Based on Bowen Theory</td>
            <td>Michael E. Kerr, Murray Bowen</td>
            <td>October 17, 1988</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>A Secure Base</td>
            <td>John Bowlby</td>
            <td>August 22, 1990</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Integrative Neurobiology of Affiliation</td>
            <td>Carol Sue Carter</td>
            <td>June 15, 2006</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Psychobiology of reptilian reproduction</td>
            <td>David Crews</td>
            <td>September 26, 1975</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Descartes Error: Emotion, Reason and the Human Brain</td>
            <td>Antonio R Damasio</td>
            <td>2006</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Homicide</td>
            <td>Martin Daly, Margo Wilson</td>
            <td>January 1, 1988</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>On the Origin of Species</td>
            <td>Charles Darwin</td>
            <td>November 24, 1859</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Descent of Man</td>
            <td>Charles Darwin</td>
            <td>February 24, 1871</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Out of the Crisis</td>
            <td>W Edwards Deming</td>
            <td>October 2, 2000</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Good Natured</td>
            <td>Frans B. M. de Waal</td>
            <td>October 1997</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Ideas And Opinions</td>
            <td>Albert Einstein</td>
            <td>June 6, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Time Frames:The Evolution of Punctuated Equilibria</td>
            <td>Niles Eldredge</td>
            <td>1989</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Shot in the Heart</td>
            <td>Mikal Gilmore</td>
            <td>August 1, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Emotional Intelligence: Why It Can Matter More Than IQ</td>
            <td>Daniel Goleman</td>
            <td>September 27, 2005</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Chimpanzees of Gombe: Patterns of Behavior</td>
            <td>Jane Goodall</td>
            <td>September, 1986</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Why males exist: An inquiry into the evolution of sex</td>
            <td>Fred H. Hapgood</td>
            <td>1979</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Roots of Human Behavior</td>
            <td>Myron A. Hofer</td>
            <td>July 1981</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Sacred Hoops: Spiritual Lessons of a Hardwood Warrior</td>
            <td>Phil Jackson</td>
            <td>November 7, 1996</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Possible and the Actual</td>
            <td>Francois Jacob</td>
            <td>January 12, 1982</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Undiscovered Self</td>
            <td>Carl G. Jung</td>
            <td>February 7, 2006</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Out of Control</td>
            <td>Kevin Kelly</td>
            <td>April 14, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Emotional Brain</td>
            <td>Joseph Ledoux</td>
            <td>March 27, 1998</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Families and Family Therapy</td>
            <td>Salvador Minuchin</td>
            <td>1974</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Will Therapy and Truth and Reality</td>
            <td>Otto Rank</td>
            <td>January 1, 1917</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Sex and Friendship in Baboons</td>
            <td>Barbara B. Smuts</td>
            <td>December 15, 1999</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Alchemy of Finance</td>
            <td>George Soros</td>
            <td>August 1, 2003</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Lives of a Cell: Notes of a Biology Watcher</td>
            <td>Lewis Thomas</td>
            <td>February 23, 1978</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Holy Bible: King James Version</td>
            <td>Various Authors</td>
            <td>1611</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Battered Women</td>
            <td>Lenore Edna Walker</td>
            <td>1979</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Beak of the Finch: A Story of Evolution in Our Time</td>
            <td>Jonathan Weiner</td>
            <td>May 30, 1995</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Beyond Natural Selection</td>
            <td>Robert Wesson</td>
            <td>January 29, 1993</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>The Moral Sense</td>
            <td>James Q. Wilson</td>
            <td>November 6, 1997</td>
            <td>col4</td>
         </tr>
         <tr style="">
            <td class="tesy">
               <input type="checkbox" class="checkBx" title="">
            </td>
            <td>Anna Freud: A Biography</td>
            <td>Elisabeth Young-Bruehl</td>
            <td>July, 1994</td>
            <td>col4</td>
         </tr>
      </tbody>
   </table>
</div>


<script src="../../src/core/base/Bee.Utils.js"></script>
<script src="../../src/core/base/Bee.Array.js"></script>
<script src="../../src/core/base/Bee.String.js"></script>
<script src="../../src/core/base/Bee.Math.js"></script>

<script src="../../src/ui/Bee.Dom.js"></script>
<script src="../../src/ui/Bee.Events.js"></script>
<script src="../../src/ui/widgets/Bee.Widget.TableSorter.js"></script>
<script src="../../src/ui/widgets/Bee.Widget.Input.js"></script>
<script src="../../src/ui/widgets/Bee.Widget.Table.js"></script>

<script>
   var tb = new Bee.Widget.Table(Bee.Widget.getEl("#tb"),
                                 {
                                   stickOnScroll       : true,
                                   scrollableContainer : Bee.Widget.getEl(".scroll"),
                                   hasCheckboxes : true,
                                   stickyHead : false
                                });

   let Be = new Bee.Event.EventManager();


   var checkboxes    = Bee.Widget.getEl(".checkBx", true),
       fatherCheckBx = Bee.Widget.getEl(".fatherCheckBx"),
       showOrHideCols = Bee.Widget.getEl(".showOrHideCol", true);

//   function highlight(tr)
//   {
//      Bee.Widget.css(tr, {transition: "background-color .6s", backgroundColor : "#eee399"})
//   }
//
//   function unHighlight(tr)
//   {
//      Bee.Widget.css(tr, {backgroundColor : "", transition: ""})
//   }
//
//   fatherCheckBx.addEventListener("click", function (e)
//   {
//      let checked = this.checked,
//      trs = tb.getRows();
//
//      Bee.Utils.forEach(checkboxes, function (checkBox)
//      {
//         checkBox.checked = checked;
//      });
//
//      if (checked)
//      {
//         Bee.Utils.forEach(trs, function (checkBox)
//         {
//            highlight(checkBox);
////            checkBox.style.backgroundColor = "#eee399";
//         });
//      }
//      else
//      {
//         Bee.Utils.forEach(trs, function (checkBox)
//         {
//            unHighlight(checkBox);
////            checkBox.style.backgroundColor = "";
//         });
//      }
//
//      if (checked && Bee.Widget.hasClass(this, "someChecked"))
//      {
//         Bee.Widget.addClass(this, "allChecked");
//         Bee.Widget.removeClass(this, ["someChecked", "noneChecked"]);
//      }
//      else if (checked && Bee.Widget.hasClass(this, "noneChecked"))
//      {
//         Bee.Widget.addClass(this, "allChecked");
//         Bee.Widget.removeClass(this, ["someChecked", "noneChecked"]);
//      }
//      else if (!checked && Bee.Widget.hasClass(this, "someChecked"))
//      {
//         Bee.Widget.addClass(this, "noneChecked");
//         Bee.Widget.removeClass(this, ["someChecked", "allChecked"]);
//      }
//
//      trs = checked = null;
//   });
//
//   Be.bindOnAll(checkboxes, "click", function (e)
//   {
//      let checked = this.checked,
//      tr = this.parentElement.parentElement.parentElement;
//
//      tr.tagName !== "TR" ? tr = this.parentElement.parentElement : tr;
//      if (checked)
//      {
//         highlight(tr);
////         tr.style.backgroundColor = "#eee399";
//      }
//      else
//      {
//         unHighlight(tr);
////         tr.style.backgroundColor = "";
//      }
//
//      console.log(this);
//      let allChecked, noneChecked, someChecked;
//
////      console.log(checkboxes);
//
//      checkboxes = Bee.Array.toArray(checkboxes);
//
//      someChecked = Bee.Array.someOf(checkboxes, function (checkBox)
//      {
//         return checkBox.checked === true;
//      });
//
//      noneChecked = Bee.Array.someOf(checkboxes, function (checkBox)
//      {
//         return checkBox.checked === false;
//      });
//
//      allChecked = Bee.Array.allOf(checkboxes, function (checkBox)
//      {
//         return checkBox.checked === true;
//      });
//
//      if (allChecked)
//      {
//         Bee.Widget.removeClass(fatherCheckBx, ["someChecked", "noneChecked"]);
//         Bee.Widget.addClass(fatherCheckBx, "allChecked");
//      }
//      else if (someChecked)
//      {
//         Bee.Widget.addClass(fatherCheckBx, "someChecked");
//         Bee.Widget.removeClass(fatherCheckBx, ["allChecked", "noneChecked"]);
//
//         if (fatherCheckBx.checked === false)
//         {
//            fatherCheckBx.checked = true;
//         }
//      }
//      else if (noneChecked)
//      {
//         Bee.Widget.removeClass(fatherCheckBx, ["someChecked", "allChecked"]);
//         Bee.Widget.addClass(fatherCheckBx, "noneChecked");
//
//         if (fatherCheckBx.checked === true)
//         {
//            fatherCheckBx.checked = false;
//         }
//      }
//   });

   Be.bindOnAll(showOrHideCols, "click", function (e)
   {
      let checked = this.checked;

      if(checked)
      {
         tb.openCol(Bee.Utils.pInt(this.value))
      }
      else
      {
         tb.closeCol(Bee.Utils.pInt(this.value))
      }
   });

</script>
</body>
</html>