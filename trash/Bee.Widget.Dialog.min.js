var Bee=Bee||{};
(function(g){function m(){var a=document.createElement("section");a.style.display="block";a.id="msgBxOverlay";a.className="overlay";a.onmousedown=function(a){a.preventDefault()};return a}function p(a){g.closeWin(a.parentElement.parentElement,"remove",!0);g.closeWin(g.gebi("msgBxOverlay"),"remove",!0);g.closeWin(g.gebi("dialogStyle"),"remove",!0);window.removeEventListener("keydown",p,!1)}function q(a){var b=document.createElement("div");b.id="msgTitle";var c=document.createElement("h1");c.innerHTML=
a.toString();var d=document.createElement("button");d.className="closeBtn";d.innerHTML="&times;";d.addEventListener("click",function(){p(this)});b.appendChild(c);b.appendChild(d);window.addEventListener("keyup",function(a){27==a.keyCode&&d.click()});return b}function u(a,b,c,d){var e=document.createElement("div");e.id="msgContent";if(a)c?e.innerHTML="<div id='msgContentIconDiv'>"+("warning"===c||"alert"===c?void 0!==d&&"dark"===d?"<span class='msgIcon' style='color: #fff;'>&#xE814;</span>":"<span class='msgIcon' style='color: #f00;'>&#xE814;</span>":
"info"===c?"<span class='msgIcon' style='color: #00a5ff;'>&#xE946;</span>":"question"===c?"<span class='msgIcon msgIconQues' style='color: #ffc600; background-color: rgba(255, 253, 209, 1);border-color: #ffc600'>&#xE11B;</span>":"ok"===c?"<span class='msgIcon' style='color: #04e704; background-color: #e8ffe7'>&#xE930;</span>":"failure"===c?"<span class='msgIcon' style='color: #f00; background-color: #ffe7e7'>&#xEA39;</span>":"delete"===c?"<span class='msgIcon' style='color: #f00; background-color: #ffe7e7'>&#xE74D;</span>":
"")+"</div> <div id='msgContentTextDiv'> <p>"+a+"</p></div>":(c=document.createElement("p"),c.innerHTML=a,e.appendChild(c));else throw Error("missing message");b&&"prompt"===b&&(a=document.createElement("srcInputEl"),a.type="text",a.id="msgInput",e.appendChild(a),a.setAttribute("draggable","false"));return e}function r(a,b,c,d,e,f,m){var l=document.createElement("div");l.id="msgFoot";var h=g.createEl("button",{id:"msgButton1",className:"msgBxBtns",innerHTML:b?b:"OK"},{width:a&&"light"==a?"40%":"100%"});
l.appendChild(h);h.onclick=function(){f?n(this,!1,!0,m):n(this,c)};var k=document.createElement("button");f?(k.className="msgBxBtns","light"==a?(h.style.width="37%",k.style.width="37%"):(h.style.width="49.3%",k.style.width="49.3%"),k.innerHTML=d?d:"CANCEL",h.classList.add("primary"),l.appendChild(k),k.onclick=function(){f?n(this,!1,!1,""):n(this,e)}):d&&(k.className="msgBxBtns","light"==a?(h.style.width="37%",k.style.width="37%"):(h.style.width="49.3%",k.style.width="49.3%"),k.innerHTML=d?d:"CANCEL",
l.appendChild(k),k.onclick=function(){f?n(this,!1,!0,m):n(this,e)});window.addEventListener("keydown",function(a){if(13==a.keyCode)a.preventDefault(),k.classList.contains("primary")?k.click():h.classList.contains("primary")&&h.click(),console.log("enter key pressed");else if(37==a.keyCode||40==a.keyCode)a.preventDefault(),h.classList.contains("primary")||h.classList.add("primary"),k.classList.contains("primary")&&k.classList.remove("primary");else if(39==a.keyCode||38==a.keyCode)a.preventDefault(),
k.classList.contains("primary")||k.classList.add("primary"),h.classList.contains("primary")&&h.classList.remove("primary")});return l}function v(a,b,c,d){t(a);var e=document.createElement("div");e.id="msgBx";new Bee.Drag.Movable(e);e.appendChild(q(b));e.appendChild(r(a,c,d));return e}function w(a,b,c,d,e){t(a);var f=document.createElement("div");f.id="msgBx";new Bee.Drag.Movable(f);f.appendChild(q(b));f.appendChild(u(c,"prompt"));f.appendChild(r(a,d,e));return f}function x(a,b,c,d,e,f,g,l){t(a);var h=
document.createElement("div");h.id="msgBx";new Bee.Drag.Movable(h);h.appendChild(q(b));h.appendChild(u(c,!1,l,a));h.appendChild(r(a,d,e,f,g));return h}function y(a,b,c,d,e,f,g){t(a);var l=document.createElement("div");l.id="msgBx";new Bee.Drag.Movable(l);l.appendChild(q(b));l.appendChild(u(d,!1,g));l.appendChild(r(a,e,!1,f,!1,!0,c));return l}function z(a,b,c,d,e){t(a);var f=document.createElement("div");f.id="msgBx";new Bee.Drag.Movable(f);f.appendChild(q(b));f.appendChild(r(a,d,!1,e,!1,!0,c));return f}
function t(a){var b=document.createElement("style");b.id="dialogStyle";if("light"==a)return b.innerHTML=A,document.head.appendChild(b),!1;b.innerHTML=B;document.head.appendChild(b)}function n(a,b,c,d){if(c&&void 0!==c&&"string"===typeof d&&""!==d)return window.location.assign(d),p(a),!1;if(void 0!==b&&"string"===typeof b)return window[b](),p(a),!1;p(a)}Bee.Dialog={lightRedirectConfirm:function(a,b,c,d,e,f){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(y("light",a,b,c,
d,e,f)))},darkRedirectConfirm:function(a,b,c,d,e,f){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(y("dark",a,b,c,d,e,f)))},lightRedirectAlert:function(a,b,c,d){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(z("light",a,b,c,d)))},darkRedirectAlert:function(a,b,c,d){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(z("dark",a,b,c,d)))},lightAlert:function(a,b,c){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(v("light",
a,b,c)))},darkAlert:function(a,b,c){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(v("dark",a,b,c)))},lightConfirm:function(a,b,c,d,e,f,n){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(x("light",a,b,c,d,e,f,n)))},darkConfirm:function(a,b,c,d,e,f,n){g.gebi("msgBx")||(document.body.appendChild(m()),document.body.appendChild(x("dark",a,b,c,d,e,f,n)))},lightPrompt:function(a,b,c,d,e,f){if(!g.gebi("msgBx"))return document.body.appendChild(m()),document.body.appendChild(w("light",
a,b,c,d)),console.log(_("msgInput").value),g.gebi("msgInput").value},darkPrompt:function(a,b,c,d,e,f){if(!g.gebi("msgBx"))return document.body.appendChild(m()),document.body.appendChild(w("dark",a,b,c,d)),console.log(g.gebi("msgInput").value),g.gebi("msgInput").value}};var A="section{ width: 100%; height: 100%; overflow: hidden;}.overlay{z-index: 200; position: absolute; top:0;  background-color: #fff;  opacity: .8; display: none;}#msgBx{min-width: 350px; height:auto; position: absolute; top:20%; left:40%; z-index: 201; /*cursor:move;*/  background-color:#fff; border:1px solid #ccc; border-radius:3px; box-shadow: 0 2px 6px rgba(46, 50, 61, 0.36); margin:0 auto; text-align: center;  overflow:hidden; user-select:none -moz-user-select:none; -webkit-user-select:none;}#msgTitle, #msgFoot{   width:100%; height:50px;overflow:inherit;}#msgTitle{height:35px;text-align:left;border-bottom:1px solid #e6e6e6;pointer-events: none;}#msgTitle h1{display:inline-block;font-weight: normal;margin-left: 10px; font-size: 19px;line-height: 1.7;}.closeBtn{height: 24px;width: 24px;float:right;background: transparent;font-size: 20px;cursor: pointer;opacity: .5;border: none;padding: 0;margin-right: 0; pointer-events:all;}.closeBtn:hover{opacity:1; box-shadow:none;}#msgContent{clear:both;width:100%;height:auto;border-bottom:1px solid #e6e6e6;padding:5px;}#msgContent p{margin: 10px 0; height: auto; min-height:25px; max-height: 50px;}#msgContent #msgContentIconDiv{width:60px; float:left;}#msgContent div{height:100%}#msgContent #msgContentTextDiv{width: calc(100% - 60px);}#msgContent srcInputEl{width:100%;border:1px solid #ccc;border-radius:3px;padding:4px;margin-bottom: 3px;background-color: #ccc;}#msgContent .msgIcon{font-family: 'segoe mdl2 Assets', sans-serif;vertical-align: middle;font-size: 35px;width: auto;height: auto;border-radius: 50%;}#msgContent .msgIconQues{color: #00a5ff;background-color: #e7f8ff;padding: 5px;font-size: 20px;border: 2px solid #00a5ff;margin-right: 15px; font-weight:600;}#msgFoot{background-color: #fcfcfc;}.msgBxBtns{height: 30px;width: auto;min-width: 80px;padding: 0 8px;margin: 9px;border:1px solid #ddd;border-radius:3px;background-color:#F5F5F5;color: #444;font-size: 15px;font-weight: bold;cursor:pointer;}.msgBxBtns:hover{border:2px solid #444;}.defaultBtn{/*background-color:#0062f5;*/}.defaultBtn:hover{/*background-color:#1fa0f5;*/}button.primary{border:2px solid #0078ff}",
B="section{width: 100%;height: 100%;overflow: hidden;}.overlay{z-index: 200;position: absolute;top:0;background-color: #000;opacity: .7;display: none;}#msgBx{min-width: 350px;height:auto;position: absolute;top:25%;left:40%;z-index: 201; /*cursor:move;*/ background-color:#1C2126;border:1px solid #000000;border-radius:4px;margin:0 auto;text-align: center;overflow:hidden; user-select:none; -moz-user-select:none; -webkit-user-select:none;}#msgTitle, #msgFoot{width:100%;height:50px;overflow:inherit;}#msgTitle{height:35px;text-align:left;border-bottom:1px solid #171717;pointer-events: none;}#msgFoot{border-top:1px solid #343c45;}#msgTitle h1{display:inline-block;font-size:20px;font-weight: normal;margin-left: 10px;color:#aaa;}.closeBtn{height: 24px;width: 24px;float:right;background: transparent;font-size: 20px;cursor: pointer;opacity: .5;color: #fff;padding: 0;margin-right: 0;margin-bottom: 0; border:0; pointer-events:all;}.closeBtn:hover{opacity:1;}#msgContent{clear:both;width:100%;height:auto;border-top:1px solid #343c45;border-bottom: 1px solid #171717;padding:5px;}#msgContent p{margin: 10px 0; height: auto; min-height:25px; max-height: 50px; color:#fff;}#msgContent srcInputEl{width:100%;border:1px solid #171717;border-radius:3px;padding:4px;margin-bottom: 3px;background: #a2a5a7;}#msgContent #msgContentIconDiv{width:60px; float:left;}#msgContent div{height:100%}#msgContent #msgContentTextDiv{width: calc(100% - 60px);}#msgContent .msgIcon{font-family: 'segoe mdl2 Assets', sans-serif;vertical-align: middle; font-size: 35px;width: auto;height: auto;border-radius: 50%;}#msgContent .msgIconQues{color: #00a5ff;background-color: #e7f8ff;padding: 5px;font-size: 20px;border: 2px solid #00a5ff;margin-right: 15px; font-weight:600;}.msgBxBtns{height: 100%;width:49.3%;min-width: 80px; margin:0;/*padding: 0 8px;*//*margin-top: 9px;*//*border:1px solid #ddd;*//*border-radius:3px;*/background-color: transparent;font-size: 15px;font-weight: bold;color:#f3f3f3;cursor:pointer;}.msgBxBtns:hover{background-color: #444;}.defaultBtn{ /*background-color:#0062f5;*/ }.defaultBtn:hover{ /*background-color:#1fa0f5;*/}button.primary{border:1px solid #0078ff}"})(Bee.Utils);
